# TreasureRun（宝探しゲーム / Spigot Plugin）

Minecraft（Spigot）上で遊べる、宝探しミニゲームプラグインです。  
ステージ生成・宝箱スポーン・スコア集計・ランキング・演出（カラフル狼、虹、オーロラ、等）に加え、TreasureShop (謎の取引) による交換要素を入れています。

---

## ゲームの概要

制限時間内に宝箱（Treasure Chest）を探して報酬を獲得し、スコアを競うゲームです。  
難易度によって宝箱の出現数や演出が変化し、ゲーム終了時に結果（順位/報酬）が付与されます。

- 宝箱はゲーム開始時にスポーン（難易度に応じて個数変化）
- ゲーム進行はステージ単位で管理（海上ステージ生成）
- 終了時にランキング演出＋報酬を付与
- スコアはDBに保存し、後から確認可能

---

## 主な機能

- ✅ ステージ生成（海上にネオン床ステージを生成）
- ✅ 難易度システム（難易度ブロック等で選択・演出変更）
- ✅ 宝箱の複数スポーン（難易度に応じた個数）
- ✅ スコア集計 / ランキング
- ✅ 上位報酬＋演出（虹・オーロラ・パーティクル・サウンド等）
- ✅ データ保存（MySQL / SQLite など）

---

## 動作環境

- Minecraft: Spigot 1.20.1
- Java: 17

---

## 導入方法（サーバーに入れる）

1. `TreasureRun-xxx.jar`（ビルド済みJar）を用意します  
2. サーバーの `plugins/` フォルダへJarを入れます  
3. サーバーを起動 / 再起動します  
4. `plugins/TreasureRun/` に設定ファイルが生成されます（初回起動時）

---

## 使い方（ゲーム開始手順）

### 1)（例）ゲーム開始
任意の場所でコマンドを実行してゲームを開始します。

- `【ここに実際の開始コマンドを書く】`
  - 例：`/treasurerun start`
  - 例：`/tr start`

### 2)（例）難易度選択
- `【難易度の選び方を書く（難易度ブロック / GUI / コマンド等）】`

### 3) ゲーム終了
- 制限時間終了、または終了コマンドで終了します
- 結果表示 → ランキング → 報酬付与 → 片付け（ブロック撤去など）

---

## コマンド一覧（※あなたの実装に合わせて修正してください）

| コマンド | 説明 |
|---|---|
| `【/treasurerun start】` | ゲームを開始 |
| `【/treasurerun end】` | ゲームを終了 |
| `【/treasurerun rank】` | ランキング表示 |
| `【/treasurerun reload】` | 設定再読み込み（ある場合） |

> あなたの実際のコマンド名が決まっているなら、ここは私が整形して完成版にします（コマンドだけ教えてください）。

---

## 設定（config.yml）

- 難易度ごとの宝箱数
- 制限時間
- 演出のON/OFF
- DB接続（MySQL/SQLite）
などを設定できます。

例（※キーはあなたのconfigに合わせて変更）:

```yml
game:
  timeSeconds: 180

difficulty:
  easy:
    chestCount: 3
  normal:
    chestCount: 5
  hard:
    chestCount: 8

database:
  type: mysql # mysql / sqlite
  host: localhost
  port: 3306
  name: treasuredb
  user: root
  password: password
